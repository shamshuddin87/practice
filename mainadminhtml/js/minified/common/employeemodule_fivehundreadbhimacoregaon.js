
website(document).ready(function(){var baseHref=getbaseurl();var redirecturl=baseHref+"portfolio?tab="+btoa(2);website('#modeluserguide #modalcontent').html('<div style="text-align:center;"><h5 style="text-align: center;color: #000;margin: 45px 50px 25px 50px;line-height: 25px;">Demat Account Details added successfully.<br>Please Insert Relative Demat Account Details.</h5></div><div class="guidebtn"><a href="'+redirecturl+'"><button type="button" class="btn btn-success" style="border-top:none; text-align: center;">OK</button></a></div>');website('#modeluserguide').modal('show');var url=new URL(window.location.href);var action=url.searchParams.has("from");if(action){var actval=atob(url.searchParams.get("from"));}else{}
if(actval=="dash"){website(".personal").removeClass("active");website(".relatives").addClass("active");website(".relativesform").show();website(".personaldetails").hide();website(".mymfr").hide();}else{}
var action=url.searchParams.has("tab");if(action)
{var actval=atob(url.searchParams.get("tab"));}
else
{var actval='';}
if(actval=="2")
{website(".personal").removeClass("active");website(".employment").removeClass("active");website(".mfr").removeClass("active");website(".relatives").addClass("active");website(".relativesform").show();website(".personaldetails").hide();website(".employmentform").hide();website(".mymfr").hide();}
else if(actval=="3")
{website(".mfr").addClass("active");website(".relatives").removeClass("active");website(".personal").removeClass("active");website(".employment").removeClass("active");website(".relativesform").hide();website(".personaldetails").hide();website(".employmentform").hide();website(".mymfr").show();}
else if(actval=="4")
{website(".employment").addClass("active");website(".relatives").removeClass("active");website(".personal").removeClass("active");website(".mfr").removeClass("active");website(".relativesform").hide();website(".personaldetails").hide();website(".mymfr").hide();website(".employmentform").show();}
var selected_nationality=website("#per_nation option:selected").val();if(selected_nationality=='Other'){website("#perdetail #pan").removeAttr("maxlength");website("#pan_label").text("Local Legal Identification Number*");website("#perdetail #pan").attr("placeholder",'Local Legal Identification Number');website("#aadhar_label").text("Aadhaar");website("#perdetail #mobno").removeAttr("maxlength");website("#perdetail #mobno").removeAttr("onkeypress");website("#perdetail #mobno").attr("onkeypress",'return event.charCode >= 48 && event.charCode <= 57 || event.charCode == 43 || event.charCode == 45 ');website("#perdetail #legal_idntfr").removeAttr("readonly");website("#perdetail #aadhar").attr("readonly",'readonly');}
else
{website("#perdetail #pan").attr("maxlength",'10');website("#pan_label").text("PAN*");website("#perdetail #pan").attr("placeholder",'PAN');website("#aadhar_label").text("Aadhaar*");website("#perdetail #mobno").attr("maxlength",'10');website("#perdetail #mobno").attr("onkeypress",'return event.charCode >= 48 && event.charCode <= 57');website("#perdetail #legal_idntfr").attr("readonly",'readonly');website("#perdetail #aadhar").removeAttr("readonly");}});website(".relativesform").hide();website(".personal").click(function(e){e.preventDefault();website(this).addClass("active");website(".relatives").removeClass("active");website(".mfr").removeClass("active");website(".employment").removeClass("active");website(".personaldetails").show();website(".mymfr").hide();website(".relativesform").hide();website(".employmentform").hide();});website(".relatives").click(function(e){e.preventDefault();website(this).addClass("active");website(".personal").removeClass("active");website(".mfr").removeClass("active");website(".employment").removeClass("active");website(".relativesform").show();website(".mymfr").hide();website(".personaldetails").hide();website(".employmentform").hide();});website(".mfr").click(function(e){e.preventDefault();website(this).addClass("active");website(".relatives").removeClass("active");website(".personal").removeClass("active");website(".employment").removeClass("active");website(".relativesform").hide();website(".personaldetails").hide();website(".employmentform").hide();website(".mymfr").show();});website(".employment").click(function(e){e.preventDefault();website(this).addClass("active");website(".relatives").removeClass("active");website(".personal").removeClass("active");website(".mfr").removeClass("active");website(".relativesform").hide();website(".personaldetails").hide();website(".mymfr").hide();website(".employmentform").show();});(function(replace){function floatLabel(inputType){replace(inputType).each(function(){var replacethis=replace(this);var text_value=replace(this).val();replacethis.focus(function(){replacethis.next().addClass("active");});replacethis.blur(function(){if(replacethis.val()===""||replacethis.val()==="blank"){replacethis.next().removeClass();}});if(text_value!=""){replacethis.next().addClass("active");}});replace("select").next().removeClass();}
floatLabel(".floatLabel");})(jQuery);datepicker();function datepicker(){website(".bootdatepick").datetimepicker({weekStart:1,todayBtn:0,autoclose:1,todayHighlight:0,startView:2,minView:2,forceParse:0,format:"dd-mm-yyyy",}).on("change",function(e,date){var getdate=website(this).val();var getid=website(this).closest("form").attr("id");});}
function confirmdisclosure(id){var id=id;if(id=="confirmpersonalinfo"){var shareholdng=website("#shareholdng").val();var adrsholdng=website("#adrsholdng").val();var nationality=website("#per_nation").val();if(shareholdng&&adrsholdng&&nationality){website("#updateholdings1").modal("show");}else if(!nationality){new PNotify({title:"Alert",text:"Please Select Nationality",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}else if(!shareholdng){new PNotify({title:"Alert",text:"Please Enter Holding in Shares",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}else if(!adrsholdng){new PNotify({title:"Alert",text:"Please Enter Holding in ADRs",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}}else if(id=="relsub"){var shareholdng=website("#getdata_1 #shareholdng").val();var adrsholdng=website("#getdata_1 #adrsholdng").val();var nationality=website("#rel_nation").val();if(shareholdng&&adrsholdng&&nationality){website("#updateholdings2").modal("show");}
else if(!nationality){new PNotify({title:"Alert",text:"Please Select Nationality",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}else if(!shareholdng){new PNotify({title:"Alert",text:"Please Enter Holding in Shares",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}else if(!adrsholdng){new PNotify({title:"Alert",text:"Please Enter Holding in ADRs",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}}else if(id=="relupdate"){var shareholdng=website("#reledit #shareholdng").val();var adrsholdng=website("#reledit #adrsholdng").val();var nationality=website("#rel_nation_update").val();if(shareholdng&&adrsholdng&&nationality){website("#updateholdings3").modal("show");}
else if(!nationality){new PNotify({title:"Alert",text:"Please Select Nationality",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}else if(!shareholdng){new PNotify({title:"Alert",text:"Please Enter Holding in Shares",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}else if(!adrsholdng){new PNotify({title:"Alert",text:"Please Enter Holding in ADRs",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}}}
website('#reledit').on('show.bs.modal',function(){nationality('rel_nation_update');});function nationality(id){var id=id;if(id=="per_nation")
{var per_nation_id=website("#per_nation").val();if(per_nation_id=='Other'){website("#perdetail #pan").removeAttr("maxlength");website("#pan_label").text("Local Legal Identification Number*");website("#perdetail #pan").attr("placeholder",'Local Legal Identification Number');website("#aadhar_label").text("Aadhaar");website("#perdetail #mobno").removeAttr("maxlength");website("#perdetail #mobno").removeAttr("onkeypress");website("#perdetail #mobno").attr("onkeypress",'return event.charCode >= 48 && event.charCode <= 57 || event.charCode == 43 || event.charCode == 45 ');website("#perdetail #legal_idntfr").removeAttr("readonly");website("#perdetail #aadhar").attr("readonly",'readonly');}
else
{website("#perdetail #pan").attr("maxlength",'10');website("#pan_label").text("PAN*");website("#perdetail #pan").attr("placeholder",'PAN');website("#aadhar_label").text("Aadhaar*");website("#perdetail #mobno").attr("maxlength",'10');website("#perdetail #mobno").attr("onkeypress",'return event.charCode >= 48 && event.charCode <= 57');website("#perdetail #legal_idntfr").attr("readonly",'readonly');website("#perdetail #aadhar").removeAttr("readonly");}}
else if(id=="rel_nation")
{var rel_nation_id=website("#rel_nation").val();if(rel_nation_id=='Other'){website("#getdata_1 #pan").removeAttr("maxlength");website("#getdata_1 #rel_pan_label").text("Local Legal Identification Number*");website("#getdata_1 #pan").attr("placeholder",'Local Legal Identification Number');website("#getdata_1 #rel_aadhar_label").text("Aadhaar");website("#getdata_1 #relmobno").removeAttr("maxlength");website("#getdata_1 #relmobno").removeAttr("onkeypress");website("#getdata_1 #relmobno").attr("onkeypress",'return event.charCode >= 48 && event.charCode <= 57 || event.charCode == 43 || event.charCode == 45 ');website("#getdata_1 #legal_idntfr").removeAttr("readonly");website("#getdata_1 #aadhar").attr("readonly",'readonly');}
else
{website("#getdata_1 #pan").attr("maxlength",'10');website("#getdata_1 #rel_pan_label").text("PAN*");website("#getdata_1 #pan").attr("placeholder",'PAN');website("#getdata_1 #rel_aadhar_label").text("Aadhaar*");website("#getdata_1 #relmobno").attr("maxlength",'10');website("#getdata_1 #relmobno").attr("onkeypress",'return event.charCode >= 48 && event.charCode <= 57');website("#getdata_1 #legal_idntfr").attr("readonly",'readonly');website("#getdata_1 #aadhar").removeAttr("readonly");}}
else if(id=="rel_nation_update")
{var rel_nation_id=website("#rel_nation_update").val();if(rel_nation_id=='Other'){website("#reledit #pan").removeAttr("maxlength");website("#reledit #edit_pan_label").text("Local Legal Identification Number*");website("#reledit #pan").attr("placeholder",'Local Legal Identification Number');website("#reledit #edit_aadhar_label").text("Aadhaar");website("#reledit #relmobnoup").removeAttr("maxlength");website("#reledit #relmobnoup").removeAttr("onkeypress");website("#reledit #relmobnoup").attr("onkeypress",'return event.charCode >= 48 && event.charCode <= 57 || event.charCode == 43 || event.charCode == 45 ');website("#reledit #legal_idntfr").removeAttr("readonly");website("#reledit #aadhar").attr("readonly",'readonly');}
else
{website("#reledit #pan").attr("maxlength",'10');website("#reledit #edit_pan_label").text("PAN*");website("#reledit #pan").attr("placeholder",'PAN');website("#reledit #edit_aadhar_label").text("Aadhaar*");website("#reledit #relmobnoup").attr("maxlength",'10');website("#reledit #relmobnoup").attr("onkeypress",'return event.charCode >= 48 && event.charCode <= 57');website("#reledit #legal_idntfr").attr("readonly",'readonly');website("#reledit #aadhar").removeAttr("readonly");}}}
function nodisclosures(id){if(id=="nodisclosures1"){new PNotify({title:"Alert",text:"Please Submit necessary disclosures First",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});website("#updateholdings1").modal("hide");}else if(id=="nodisclosures2"){new PNotify({title:"Alert",text:"Please Submit necessary disclosures First",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});website("#updateholdings2").modal("hide");}else if(id=="nodisclosures3"){new PNotify({title:"Alert",text:"Please Submit necessary disclosures First",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});website("#updateholdings3").modal("hide");website("#reledit").modal("hide");}}
website("body").on("click","#yesdisclosures1",function(e){var fname=website("#fname").val();var pan=website("#pan").val();var aadhar=website("#aadhar").val();var dob=website("#dob").val();var sex=website("input[name='sex']:checked").val();var address=website("#address").val();var eduqulfcn=website("#eduqulfcn").val();var institute=website("#institute").val();var mobno=website("#mobno").val();var hldngfile=website("#hldngfile").val();var legal_idntfr=website("#legal_idntfr").val();var legal_idntfctn_no=website("#legal_idntfctn_no").val();var rqid=website("#rqid").val();var toemail=website("#toemail").val();var shareholdng=website("#shareholdng").val();var adrsholdng=website("#adrsholdng").val();var ecode=website("#ecode").val();var per_nation=website("#per_nation").val();var formdata={ecode:ecode,fname:fname,pan:pan,aadhar:aadhar,dob:dob,sex:sex,address:address,eduqulfcn:eduqulfcn,institute:institute,mobno:mobno,hldngfile:hldngfile,legal_idntfr:legal_idntfr,legal_idntfctn_no:legal_idntfctn_no,rqid:rqid,toemail:toemail,shareholdng:shareholdng,adrsholdng:adrsholdng,per_nation:per_nation};website.ajax({url:"employeemodule/insmydetail",method:"POST",data:formdata,contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function()
{website(".preloder_wraper").fadeIn();},uploadProgress:function(event,position,total,percentComplete)
{},success:function(response,textStatus,jqXHR)
{website(".preloder_wraper").fadeOut();website("#updateholdings1").modal("hide");if(response.logged==true)
{if(response.isfirst=='yes'&&response.isnextdataempty=='yes')
{var baseHref=getbaseurl();var redirecturl=baseHref+"employeemodule?tab="+btoa(4);website('#modeluserguide #modalcontent').html('<div style="text-align:center;"><h4 style="text-align: center;color: #000;margin: 45px 50px 25px 50px;line-height: 25px;">Personal Information added successfully.<br>Please Insert Past Employment Details.</h4></div><div class="guidebtn"><a href="'+redirecturl+'"><button type="button" class="btn btn-success">OK</button></a></div>');website('#modeluserguide').modal('show');getpersonalinfo();}
else
{getpersonalinfo();new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});window.location.reload();}}
else
{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},});});website("body").on("click","#yesdisclosures2",function(e){var fname=website("#getdata_1 #fname").val();var relationship=website("#getdata_1 #relationship").val();var depnature=website("#getdata_1 #depnature").val();var pan=website("#getdata_1 #pan").val();var aadhar=website("#getdata_1 #aadhar").val();var dob=website("#getdata_1 #1_dob").val();var sex=website("#getdata_1 input[name='sex']:checked").val();var address=website("#getdata_1 #addr").val();var eduqulfcn=website("#getdata_1 #eduqulfcn").val();var file=website("#getdata_1 #file").val();var legal_idntfr=website("#getdata_1 #legal_idntfr").val();var legal_idntfctn_no=website("#getdata_1 #legal_idntfctn_no").val();var shareholdng=website("#getdata_1 #shareholdng").val();var adrsholdng=website("#getdata_1 #adrsholdng").val();var reloccupation=website("#getdata_1 #reloccupation").val();var relcompany=website("#getdata_1 #relcompany").val();var relinstitute=website("#getdata_1 #relinstitute").val();var relmobno=website("#getdata_1 #relmobno").val();var rel_nation=website("#getdata_1 #rel_nation").val();var formdata={relmobno:relmobno,relinstitute:relinstitute,relationship:relationship,fname:fname,pan:pan,aadhar:aadhar,dob:dob,sex:sex,address:address,eduqulfcn:eduqulfcn,file:file,legal_idntfr:legal_idntfr,legal_idntfctn_no:legal_idntfctn_no,shareholdng:shareholdng,adrsholdng:adrsholdng,reloccupation:reloccupation,relcompany:relcompany,depnature:depnature,rel_nation:rel_nation};website.ajax({url:"employeemodule/relationdata",method:"POST",data:formdata,contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){website(".preloder_wraper").fadeIn();},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR)
{website("#updateholdings2").modal("hide");if(response.logged===true)
{if(response.isfirst=='yes'&&response.isnextdataempty=='yes')
{var baseHref=getbaseurl();var redirecturl=baseHref+"employeemodule?tab="+btoa(3);website('#modeluserguide #modalcontent').html('<div style="text-align:center;"><h4 style="text-align: center;color: #000;margin: 45px 50px 25px 50px;line-height: 25px;">Relatives Details added successfully.<br>Please Insert Material Financial Relationship Details.</h4></div><div class="guidebtn"><a href="'+redirecturl+'"><button type="button" class="btn btn-success">OK</button></a></div>');website('#modeluserguide').modal('show');getrelationdata();}
else
{getrelationdata();new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});var baseHref=getbaseurl();window.location.href=baseHref+"employeemodule?tab="+btoa(2);}}
else
{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){website(".preloder_wraper").fadeOut();},error:function(){},});});website("body").on("click","#yesdisclosures3",function(e){var name=website("#reledit #name").val();var relationship=website("#reledit #relationship").val();var depnature=website("#reledit #depnature").val();var releditid=website("#reledit #releditid").val();var pan=website("#reledit #pan").val();var aadhar=website("#reledit #aadhar").val();var dob=website("#reledit #dob").val();var sex=website("#reledit input[name='sex']:checked").val();var address=website("#reledit #address").val();var eduqulfcn=website("#reledit #eduqulfcn").val();var file=website("#reledit #file").val();var legal_idntfr=website("#reledit #legal_idntfr").val();var legal_idntfctn_no=website("#reledit #legal_idntfctn_no").val();var shareholdng=website("#reledit #shareholdng").val();var adrsholdng=website("#reledit #adrsholdng").val();var occupation=website("#reledit #reloccupationup").val();var company=website("#reledit #relcompanyup").val();var relinstituteup=website("#reledit #relinstituteup").val();var relmobnoup=website("#reledit #relmobnoup").val();var rel_nation_update=website("#reledit #rel_nation_update").val();var formdata={relmobnoup:relmobnoup,relinstituteup:relinstituteup,releditid:releditid,relationship:relationship,name:name,pan:pan,aadhar:aadhar,dob:dob,sex:sex,address:address,eduqulfcn:eduqulfcn,file:file,legal_idntfr:legal_idntfr,legal_idntfctn_no:legal_idntfctn_no,shareholdng:shareholdng,adrsholdng:adrsholdng,reloccupationup:occupation,relcompanyup:company,depnature:depnature,rel_nation_update:rel_nation_update};website.ajax({url:"employeemodule/updaterelatives",method:"POST",data:formdata,contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){website(".preloder_wraper").fadeIn();},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){website("#updateholdings3").modal("hide");if(response.logged===true){website("#reledit").modal("hide");getrelationdata();new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});var baseHref=getbaseurl();window.location.href=baseHref+"employeemodule?tab="+btoa(2);}else{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){website(".preloder_wraper").fadeOut();},error:function(){},});});website("#upmydetails").ajaxForm({dataType:"json",beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged===true){website("#mydataedit").modal("hide");getpersonalinfo();new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}else{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){website(".preloder_wraper").fadeOut();},error:function(){},});getpersonalinfo();function getpersonalinfo(){website.ajax({url:"employeemodule/getmydetails",method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){var myhtml="<tr>";if(response.logged==true){obj=response.data;var fname=obj["fname"]?obj["fname"]:"";var pan=obj["pan"]?obj["pan"]:"";var dob=obj["dob"]?obj["dob"]:"";var aadhar=obj["aadhar"]?obj["aadhar"]:"";var education=obj["education"]?obj["education"]:"";var institute=obj["institute"]?obj["institute"]:"";var filepath=obj["filepath"]?obj["filepath"]:"";var dpdate=obj["dpdate"]?obj["dpdate"]:"";var mobno=obj["mobileno"]?obj["mobileno"]:"";var id=response.data.id?response.data.id:"";myhtml+="<td>1</td>";myhtml+="<td>"+pan+"</td>";myhtml+="<td>"+aadhar+"</td>";myhtml+="<td>"+dpdate+"</td>";myhtml+="<td>"+dob+"</td>";myhtml+="<td>"+education+"</td>";myhtml+="<td>"+institute+"</td>";myhtml+="<td>"+mobno+"</td>";if(filepath){myhtml+='<td><a href="'+
filepath+'" download>&nbsp;<i class="fa fa-download" id="uploadattached1" aria-hidden="true"></i></a></td>';}else{myhtml+="<td></td>";}
myhtml+='<td><i class="fa fa-eye faicon floatleft viewdetail" title="View entry" id="editdetail" personalid="'+
response.data.id+'"></i></td>';if(response.data.send_status==1){myhtml+="<td>---</td>";}else{myhtml+='<td><i class="fa fa-thumbs-o-up sendfrapp" style="font-size:20px"></i></td>';}
if(response.data.approved_status==1){myhtml+='<td><p style="color:green;">Accepted</p></td>';}else if(response.data.approved_status==0&&response.data.approved_status!=""){myhtml+='<td><p style="color:red;">Rejected</p></td>';}else if(response.data.send_status==1&&response.data.approved_status==""){myhtml+="<td><p>Sent</p></td>";}else{myhtml+="<td><p>--</p></td>";}
if(response.data.send_status==1&&response.data.approved_status==1){myhtml+="<td>---</td>";}else{myhtml+='<td><i class="fa fa-edit editcmp" editid="'+
id+'"  style=""></i><i class="fa fa-trash del" delid="'+
id+'"  style=""></i></td>';}}else{myhtml+='<td colspan="9" style="text-align:center;">Data Not Found..!!</td>';}
myhtml+="</tr>";website(".perdetail").html(myhtml);},complete:function(response){},error:function(jqXHR,textStatus,errorThrown){},});website("body").on("click",".del",function(e){delid=website(this).attr("delid");website("#deleteid").val(delid);website("#delmod").modal("show");});website("body").on("click","#delinfo",function(e){var delid=website("#deleteid").val();website.ajax({url:"employeemodule/delmydetails",data:{delid:delid},method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){website("#delmod").modal("hide");if(response.logged==true){getpersonalinfo();new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}else{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},});});website("body").on("click",".editcmp",function(e){editid=website(this).attr("editid");website.ajax({url:"employeemodule/getmydetails",method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){var myhtml="<tr>";if(response.logged==true){website("#mydataedit").modal("show");var id=response.data.id?response.data.id:"";var mobileno=response.data.mobileno?response.data.mobileno:"";var upmyhtml="";var clid="";var pan=obj["pan"]?obj["pan"]:"";var dob=obj["dob"]?obj["dob"]:"";var sex=obj["sex"]?obj["sex"]:"";var aadhar=obj["aadhar"]?obj["aadhar"]:"";var education=obj["education"]?obj["education"]:"";var institute=obj["institute"]?obj["institute"]:"";var address=obj["address"]?obj["address"]:"";var filepath=obj["filepath"]?obj["filepath"]:"";website("#mydataedit #upmobno").val(mobileno);website("#mydataedit #pan").val(pan);website("#mydataedit #aadhar").val(aadhar);website("#mydataedit #dob").val(dob);website("#mydataedit #address").val(address);website("#mydataedit #eduqulfcn").val(education);website("#mydataedit #institute").val(institute);website("#mydataedit #reqid").val(id);website("#mydataedit #upmobileappend").remove();website("#mydataedit #addmobileonmd").html(upmyhtml);website("#mydataedit #filepath").val(filepath);jQuery("input[value='"+sex+"']").attr("checked",true);}else{new PNotify({title:"Alert",text:"Something Went To Wrong",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){},error:function(jqXHR,textStatus,errorThrown){},});});}
website("body").on("click",".addrelinfo",function(e){var myform=website(this).attr("formno");var newno=parseInt(myform)+1;myhtml='<form method="post" id="getdata_'+
newno+'" class="chklength"  enctype="multipart/form-data"><div class="input-group col-md-12 col-xs-12 col-sm-12 remdiv_'+
newno+'">'+'<div class="col-md-3">'+"<label>Full name</label>"+'<input  class="form-control " placeholder="full name" id="'+
newno+'_fname"  name="'+
newno+'_fname" type="text" />'+"</div>"+'<div class="col-md-3">'+"<label>Pan</label>"+'<input  class="form-control panval"  placeholder="pan" id="'+
newno+'_pan" name="'+
newno+'_pan" type="text" />'+"</div>"+'<div class="col-md-3">'+"<label>Aadhar</label>"+'<input  class="form-control aadhar"  placeholder="aadhar" id="'+
newno+'_aadhar" name="'+
newno+'_aadhar" type="text" />'+"</div>"+'<div class="col-md-3">'+"<label>Age</label>"+'<input  class="form-control " placeholder="age" id="'+
newno+'_age" name="'+
newno+'_age" type="text" />'+"</div>"+'<div class="col-md-3">'+'<label for="sex">Sex:</label>'+'<input type="radio" id="'+
newno+'_sex" name="'+
newno+'_sex" value="Male" checked/>Male'+'<input type="radio" id="'+
newno+'_sex" name="'+
newno+'_sex"  value="Female"/>Female '+'<div class="col -md-3">  </div>'+"<lable>Date of birth</lable>"+'<input type="text" name="'+
newno+'_dob" id="'+
newno+'_dob" class="bootdatepick" placeholder="dob">'+"</div>"+'<div class="col-md-3">'+"<lable>Relationship</lable>"+'<input  class="form-control " placeholder="relationship" id="'+
newno+'_relationship"  name="'+
newno+'_relationship" type="text" />'+"</div>"+'<div class="col-md-3">'+"<label >Address</label>"+'<textarea class="form-control " placeholder="address" id="'+
newno+'_addr"  name="'+
newno+'_address" type="text"></textarea>'+"</div>"+"</form>";var buttonhtml='<div class="valida"><span class="glyphicon glyphicon-plus addrelinfo" style="color:green;" formno="'+
newno+'"></span><span class="glyphicon glyphicon-minus deleterelinfo" style="color:red;" formno="'+
newno+'"></span></div>';website(".addrelinfo").remove();website(".deleterelinfo").remove();website(".appndnew").append(myhtml);website(".appndnew").append(buttonhtml);datepicker();aadharvalidation();});website("body").on("click",".deleterelinfo",function(e){var myform=website(this).attr("formno");var newno=myform-1;if(newno>=1){website(".addrelinfo").remove();website(".deleterelinfo").remove();var buttonhtml='<span class="glyphicon glyphicon-plus addrelinfo" style="color:green;" formno="'+
newno+'"></span><span class="glyphicon glyphicon-minus deleterelinfo" style="color:red;" formno="'+
newno+'"></span>';website(".remdiv_"+myform).remove();website(".appndnew").append(buttonhtml);}});getrelationdata();function getrelationdata(){website.ajax({url:"employeemodule/getrelativedata",method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged===true){var j=1;var myhtml="";for(var i=0;i<response.data.length;i++){var education=response.data[i].education?response.data[i].education:"";var sharehldng=response.data[i].sharehldng?response.data[i].sharehldng:"";var adrshldng=response.data[i].adrshldng?response.data[i].adrshldng:"";myhtml+="<tr>";myhtml+="<td>"+j+"</td>";myhtml+="<td>"+response.data[i].relationshipname+"</td>";myhtml+="<td>"+response.data[i].name+"</td>";myhtml+="<td>"+response.data[i].pan+"</td>";myhtml+="<td>"+response.data[i].aadhar+"</td>";myhtml+="<td>"+response.data[i].mobile+"</td>";myhtml+="<td>"+response.data[i].dob+"</td>";myhtml+="<td>"+education+"</td>";if(response.data[i].filepath){myhtml+='<td><a href="'+
response.data[i].filepath+'" download>&nbsp;<i class="fa fa-download" id="uploadattached1" aria-hidden="true"></i></a></td>';}else{myhtml+="<td></td>";}
myhtml+="<td>"+sharehldng+"</td>";myhtml+="<td>"+adrshldng+"</td>";myhtml+='<td><i class="fa fa-edit editrel" releditid="'+
response.data[i].id+'" style=""></i><i class="fa fa-trash delrel"  reldelid="'+
response.data[i].id+'" style=""></i></td>';myhtml+="</tr>";j++;}}else{myhtml+="<tr>";myhtml+='<td colspan="11" style="text-align:center;">Data Not Found..!!</td>';myhtml+="</tr>";}
website(".reldetails").html(myhtml);},});}
website("body").on("click",".delrel",function(e){var delid=website(this).attr("reldelid");website("#delrel").val(delid);website("#delrelation").modal("show");});website("body").on("click","#deleterel",function(e){delid=website("#delrel").val();website.ajax({url:"employeemodule/reldelinfo",data:{delid:delid},method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged==true){new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});getrelationdata();}else{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){website("#delrelation").modal("hide");},error:function(jqXHR,textStatus,errorThrown){},});});website("body").on("click",".editrel",function(){var releditid=website(this).attr("releditid");website.ajax({url:"employeemodule/singlerelative",data:{releditid:releditid},method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged==true){var name=response.data.name?response.data.name:"";var pan=response.data.pan?response.data.pan:"";var aadhar=response.data.aadhar?response.data.aadhar:"";var dob=response.data.dob?response.data.dob:"";var sex=response.data.sex?response.data.sex:"";var relationship=response.data.relationship?response.data.relationship:"";var education=response.data.education?response.data.education:"";var id=response.data.id?response.data.id:"";var relationship=response.data.relationship?response.data.relationship:"";var address=response.data.address?response.data.address:"";var sharehldng=response.data.sharehldng?response.data.sharehldng:"";var adrshldng=response.data.adrshldng?response.data.adrshldng:"";var legal_idntfr=response.data.legal_identifier?response.data.legal_identifier:"";var legal_idntfctn_no=response.data.legal_identification_no?response.data.legal_identification_no:"";var dependantnature=response.data.dependency_nature?response.data.dependency_nature:"";var occupation=response.data.occupation?response.data.occupation:"";var company=response.data.company?response.data.company:"";var mobile=response.data.mobile?response.data.mobile:"";var institute=response.data.institute?response.data.institute:"";var nationality=response.data.nationality?response.data.nationality:"";var filepath=response.data.filepath;jQuery("#reledit input[value='"+sex+"']").attr("checked",true);website("#reledit #name").val(name);website("#reledit #releditid").val(id);website("#reledit #relationship").val(relationship);website("#reledit #pan").val(pan);website("#reledit #aadhar").val(aadhar);website("#reledit #dob").val(dob);website("#reledit #relationship").val(relationship);website("#reledit #rel_nation_update").val(nationality);website("#reledit #address").val(address);website("#reledit #eduqulfcn").val(education);website("#reledit #filepath").val(filepath);website("#reledit #shareholdng").val(sharehldng);website("#reledit #adrsholdng").val(adrshldng);website("#reledit #legal_idntfr").val(legal_idntfr);website("#reledit #legal_idntfctn_no").val(legal_idntfctn_no);website("#reledit #reloccupationup").val(occupation);website("#reledit #relcompanyup").val(company);website("#reledit #relinstituteup").val(institute);website("#reledit #relmobnoup").val(mobile);dependantnature=dependantnature.split(",");website.each(dependantnature,function(key,value){website('#reledit #depnature option[value="'+value+'"]').attr("selected","selected");});website("#reledit").modal("show");}else{}},complete:function(response){},error:function(jqXHR,textStatus,errorThrown){},});});aadharvalidation();function aadharvalidation(){website(".aadhar").on("keyup",function(){var aadharno=parseInt(website(this).val());len=aadharno.toString().length;if(aadharno!=""&&len>=12){website.ajax({url:"employeemodule/aadharvalidation",data:{aadharno:aadharno},method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged==true){document.getElementById("relsub").disabled=true;website(".valida").css("display","none");new PNotify({title:"Alert",text:"Aadhar No Already Exist You Can Not Insert Data",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},});}else{document.getElementById("relsub").disabled=false;website(".valida").css("display","block");}});}
panvalidation();function panvalidation(){website(".panval").on("keyup",function(){var panno=website(this).val();len=panno.toString().length;if(len>=5&&panno!=""){website.ajax({url:"employeemodule/panvalidation",data:{panno:panno},method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged==true){document.getElementById("relsub").disabled=true;website(".valida").css("display","none");new PNotify({title:"Alert",text:"Pan No Already Exist You Can Not Insert Data",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},});}else{document.getElementById("relsub").disabled=false;website(".valida").css("display","block");}});}
website("body").on("click",".viewdetail",function(){var id=website(this).attr("personalid");var baseHref=getbaseurl();window.location.href=baseHref+"employeemodule/viewpastemployer";});website("#upmfrmod").click(function(e){var mfreditid=website("#mfreditid").val();var mfrname=website("#mfrnameup").val();var panup=website("#adharpanup").val();var addressup=website("#materialaddressup").val();var mfrrelation=website("#mfrrelationup").val();var transaction=website("#mfrtransactionup").val();var clientid=website("#mfrclientidup").val();var mobile=website("#mfrmobileup").val();website.ajax({url:"employeemodule/updatemfr",data:{mobile:mobile,mfrname:mfrname,mfrrelation:mfrrelation,mfreditid:mfreditid,panup:panup,addressup:addressup,transaction:transaction,clientid:clientid,},method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged===true){getmfrdata();website("#mfrdelmodaledit").modal("hide");new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});var baseHref=getbaseurl();window.location.href=baseHref+"employeemodule?tab="+btoa(3);}else{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},});});website("#savemfr").click(function(e){var mfrname=website("#mfrname").val();var mfrrelation=website("#mfrrelation").val();var pan=website("#adharpan").val();var address=website("#materialaddress").val();var transaction=website("#mfrtransaction").val();var clientid=website("#mfrclientid").val();var mobile=website("#mfrmobile").val();website.ajax({url:"employeemodule/savemfr",data:{mobile:mobile,mfrname:mfrname,mfrrelation:mfrrelation,pan:pan,address:address,transaction:transaction,clientid:clientid,},method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged===true)
{var baseHref=getbaseurl();if(response.isfirst=='yes'&&response.isnextdataempty=='yes')
{var redirecturl=baseHref+"portfolio";website('#modeluserguide #modalcontent').html('<div style="text-align:center;"><h5 style="text-align: center;color: #000;margin: 45px 50px 25px 50px;line-height: 25px;">Data Inserted Successfully.<br>Please Insert Demat Account Details.</h5></div><div class="guidebtn"><a href="'+redirecturl+'"><button type="button" class="btn btn-success" style="border-top:none; text-align: center;">OK</button></a></div>');website('#modeluserguide').modal('show');getmfrdata();}
else
{getmfrdata();new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});window.location.href=baseHref+"employeemodule?tab="+btoa(3);}}
else
{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},});});getmfrdata();function getmfrdata(){website.ajax({url:"employeemodule/getmfrdata",method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged===true){var j=1;var myhtml="";for(var i=0;i<response.data.length;i++){myhtml+="<tr>";myhtml+="<td>"+j+"</td>";myhtml+="<td>"+response.data[i].related_party+"</td>";myhtml+="<td>"+response.data[i].pan+"</td>";myhtml+="<td>"+response.data[i].relationship+"</td>";myhtml+="<td>"+response.data[i].mobile+"</td>";myhtml+="<td>"+response.data[i].address+"</td>";myhtml+='<td><i class="fa fa-edit mymfredit"  mfredit="'+
response.data[i].id+'" style="font-size:20px;"></i><i class="fa fa-trash delmfr"  mfrdel="'+
response.data[i].id+'" style="font-size:20px;"></i></td>';myhtml+="</tr>";j++;}}else{myhtml+="<tr>";myhtml+='<td colspan="6" style="text-align:center;">Data Not Found..!!</td>';myhtml+="</tr>";}
website(".mfrtable").html(myhtml);},});}
website("body").on("click",".delmfr",function(e){var delid=website(this).attr("mfrdel");website("#mfrdelid").val(delid);website("#mfrdelmodal").modal("show");});website("body").on("click",".mymfredit",function(e){var editid=website(this).attr("mfredit");website.ajax({url:"employeemodule/fetchmfrdataedit",data:{editid:editid},method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged==true){var mfrnameu=response.data[0].related_party;var mfrrel=response.data[0].relationship;var mrfpan=response.data[0].pan;var mrfaddress=response.data[0].address;var transaction=response.data[0].transaction;var clientid=response.data[0].clientid;var mobile=response.data[0].mobile;website("#mfrnameup").val(mfrnameu);website("#mfrrelationup").val(mfrrel);website("#adharpanup").val(mrfpan);website("#materialaddressup").val(mrfaddress);website("#mfrtransactionup").val(transaction);website("#mfrclientidup").val(clientid);website("#mfrmobileup").val(mobile);website("#mfreditid").val(editid);website("#mfrdelmodaledit").modal("show");}else{}},complete:function(response){},error:function(jqXHR,textStatus,errorThrown){},});});website("body").on("click","#delbtnmfr",function(e){delid=website("#mfrdelid").val();website.ajax({url:"employeemodule/deletemfr",data:{delid:delid},method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged==true){new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});getmfrdata();}else{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){website("#mfrdelmodal").modal("hide");},error:function(jqXHR,textStatus,errorThrown){},});});website("body").on("click","#trdeintimatn",function(){website("#tradeintimationmodel").modal("show");});var timer=0;function mySearch(){var getvalue=website(".header-search-input").val();doSearch(getvalue);}
website(".header-search-input").on("keyup",function(e){var getkeycode=website.trim(e.keyCode);if(getkeycode!="40"&&getkeycode!="38"&&getkeycode!="13"){if(timer){clearTimeout(timer);}
timer=setTimeout(mySearch,400);}});var timer=0;function mySearchforedit(){var getvalue=website("#Mymodaledit .header-search-input").val();doSearchforedit(getvalue);}
website("#Mymodaledit .header-search-input").on("keyup",function(e){var getkeycode=website.trim(e.keyCode);if(getkeycode!="40"&&getkeycode!="38"&&getkeycode!="13"){if(timer){clearTimeout(timer);}
timer=setTimeout(mySearchforedit,400);}});website("#live-search-header-wrapper").scroll(function(){});website("#Mymodaledit #live-search-header-wrapper").scroll(function(){});function myCustomFn(el){}
website("#live-search-header-wrapper").mCustomScrollbar({scrollButtons:{enable:true,scrollType:"stepped"},keyboard:{scrollType:"stepped"},mouseWheel:{scrollAmount:188},theme:"rounded-dark",autoExpandScrollbar:true,snapAmount:188,snapOffset:65,callbacks:{onScroll:function(){myCustomFn(this);},},});website("#Mymodaledit #live-search-header-wrapper").mCustomScrollbar({scrollButtons:{enable:true,scrollType:"stepped"},keyboard:{scrollType:"stepped"},mouseWheel:{scrollAmount:188},theme:"rounded-dark",autoExpandScrollbar:true,snapAmount:188,snapOffset:65,callbacks:{onScroll:function(){},},});function doSearch(getvalue){var getkeyword=getvalue;if(website.trim(getkeyword)==""){website("#live-search-header-wrapper ul").html('<li class="noresultfound">No Result Fould!!!!</li>');}else{var formdata={searchvallist:getkeyword,geturl:""};website.ajax({url:"restrictedcompany/cmplists",data:formdata,method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){website("#live-search-header-wrapper").fadeIn();website("#live-search-header-wrapper ul").html("<li>Please wait...</li>");website(".mainprogressbarforall .progress").fadeIn();website(".filtr-container").html("");website(".filtr-container").removeAttr("style");website(".filtr-search").fadeIn();website(".filtr-search").val("");},uploadProgress:function(event,position,total,percentComplete){website("#live-search-header-wrapper").fadeIn();website("#live-search-header-wrapper ul").html("<li>Please wait...</li>");website(".mainprogressbarforall .progress").fadeIn();website(".mainprogressbarforall .progress .progress-bar").width(percentComplete+"%");},success:function(response,textStatus,jqXHR){var addhtml="";website("#live-search-header-wrapper ul").html("");website("#live-search-header-wrapper").fadeIn();if(response.logged==true&&response.data.length>=1){for(var i=0;i<response.data.length;i++){if(i==0){addhtml+='<li id="'+
response.data[i].id+'" company_name="'+
response.data[i].company_name+'" class="topul validatorsid">'+
response.data[i].company_name;addhtml+='<div class="clearelement"></div></li>';}else if(i==response.data.length-1){addhtml+='<li id="'+
response.data[i].id+'" company_name="'+
response.data[i].company_name+'"  class="bottomul validatorsid">'+
response.data[i].company_name;addhtml+='<div class="clearelement"></div></li>';}else{addhtml+='<li id="'+
response.data[i].id+'" company_name="'+
response.data[i].company_name+'"  class="bottomul validatorsid">'+
response.data[i].company_name;addhtml+='<div class="clearelement"></div></li>';}}
website("#live-search-header-wrapper ul").html(addhtml);}else{website("#live-search-header-wrapper ul").html('<li class="noresultfound"><span class="resp_new">'+
response.message+"</span></li>");}
website(".mainprogressbarforall .progress .progress-bar").width("100%");},complete:function(response){website(".search-row").fadeIn();website(".mainprogressbarforall .progress .progress-bar").fadeOut();},error:function(jqXHR,textStatus,errorThrown){},});}}
function doSearchforedit(getvalue){var getkeyword=getvalue;if(website.trim(getkeyword)==""){website("#Mymodaledit #live-search-header-wrapper ul").html('<li class="noresultfound">No Result Fould!!!!</li>');}else{var formdata={searchvallist:getkeyword,geturl:""};website.ajax({url:"restrictedcompany/cmplists",data:formdata,method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){website("#Mymodaledit #live-search-header-wrapper").fadeIn();website("#Mymodaledit #live-search-header-wrapper ul").html("<li>Please wait...</li>");website("#Mymodaledit .mainprogressbarforall .progress").fadeIn();website("#Mymodaledit .filtr-container").html("");website("#Mymodaledit .filtr-container").removeAttr("style");website("#Mymodaledit .filtr-search").fadeIn();website("#Mymodaledit .filtr-search").val("");},uploadProgress:function(event,position,total,percentComplete){website("#Mymodaledit #live-search-header-wrapper").fadeIn();website("#Mymodaledit #live-search-header-wrapper ul").html("<li>Please wait...</li>");website("#Mymodaledit .mainprogressbarforall .progress").fadeIn();website("#Mymodaledit .mainprogressbarforall .progress .progress-bar").width(percentComplete+"%");},success:function(response,textStatus,jqXHR){var addhtml="";website("#Mymodaledit #live-search-header-wrapper ul").html("");website("#Mymodaledit #live-search-header-wrapper").fadeIn();if(response.logged==true&&response.data.length>=1){for(var i=0;i<response.data.length;i++){if(i==0){addhtml+='<li id="'+
response.data[i].id+'" company_name="'+
response.data[i].company_name+'" class="topul validatorsid">'+
response.data[i].company_name;addhtml+='<div class="clearelement"></div></li>';}else if(i==response.data.length-1){addhtml+='<li id="'+
response.data[i].id+'" company_name="'+
response.data[i].company_name+'"  class="bottomul validatorsid">'+
response.data[i].company_name;addhtml+='<div class="clearelement"></div></li>';}else{addhtml+='<li id="'+
response.data[i].id+'" company_name="'+
response.data[i].company_name+'"  class="bottomul validatorsid">'+
response.data[i].company_name;addhtml+='<div class="clearelement"></div></li>';}}
website("#live-search-header-wrapper ul").html(addhtml);}else{website("#Mymodaledit #live-search-header-wrapper ul").html('<li class="noresultfound"><span class="resp_new">'+
response.message+"</span></li>");}
website("#Mymodaledit .mainprogressbarforall .progress .progress-bar").width("100%");},complete:function(response){website("#Mymodaledit .search-row").fadeIn();website("#Mymodaledit .mainprogressbarforall .progress .progress-bar").fadeOut();},error:function(jqXHR,textStatus,errorThrown){},});}}
website("body").on("click",".validatorsid",function(e){var compid=website(this).attr("id");var compname=website(this).attr("company_name");website("#tradeintimationmodel #search-box").val(compname);website("#search-box").attr("compid",compid);website("#search-box").attr("compname",compname);website("#tradeintimationmodel #compid").val(compid);website("#live-search-header-wrapper").fadeOut();website("#tradeintimationmodel #validators").val(compname);website("#validators").attr("compid",compid);website("#validators").attr("compnyname",compname);});website("body").on("click","#Mymodaledit .validatorsid",function(e){var compid=website(this).attr("id");var compname=website(this).attr("company_name");website("#updatetrdintimtn #search-box").val(compname);website("#Mymodaledit #search-box").attr("compid",compid);website("#Mymodaledit #search-box").attr("compname",compname);website("#Mymodaledit #live-search-header-wrapper").fadeOut();website("#updatetrdintimtn #validators").val(compname);website("#updatetrdintimtn #compid").val(compid);website("#Mymodaledit #validators").attr("compid",compid);website("#Mymodaledit #validators").attr("compnyname",compname);});website(function(){});website("#trnstype").on("change",function(){var value=website(this).val();if(value==5){website("#dateoftrans").hide();}else{website("#dateoftrans").show();}});website("#inserttrdintimtn").ajaxForm({dataType:"json",beforeSend:function(){website(".preloder_wraper").fadeIn();},uploadProgress:function(event,position,total,percentComplete){website(".preloder_wraper").fadeIn();},success:function(response,textStatus,jqXHR){if(response.logged===true){new PNotify({title:"Record Added Successfully",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});fetchtradeeintimtn();}else{new PNotify({title:"Record Not Added",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){website("#tradeintimationmodel").modal("hide");website(".preloder_wraper").fadeOut();},error:function(jqXHR,textStatus,errorThrown){},});website("#updatetrdintimtn").ajaxForm({dataType:"json",beforeSend:function(){website(".preloder_wraper").fadeIn();},uploadProgress:function(event,position,total,percentComplete){website(".preloder_wraper").fadeIn();},success:function(response,textStatus,jqXHR){if(response.logged===true){new PNotify({title:"Record Updates Successfully",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});fetchtradeeintimtn();}else{new PNotify({title:"Record Not Updates",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){website("#tradeintimationmodel").modal("hide");website(".preloder_wraper").fadeOut();},error:function(jqXHR,textStatus,errorThrown){},});fetchtradeeintimtn();function fetchtradeeintimtn(){website.ajax({url:"employeemodule/fetchtradeeintimtn",method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged===true){var j=1;var myhtml="";for(var i=0;i<response.data.length;i++){var transctndate=response.data[i].transaction_date?response.data[i].transaction_date:"";myhtml+="<tr>";myhtml+="<td>"+j+"</td>";myhtml+="<td>"+response.data[i].related_party+"</td>";myhtml+="<td>"+response.data[i].security_type+"</td>";myhtml+="<td>"+response.data[i].company_name+"</td>";myhtml+="<td>"+response.data[i].noofshares+"</td>";myhtml+="<td>"+transctndate+"</td>";myhtml+="<td>"+response.data[i].transaction+"</td>";myhtml+='<td><i class="fa fa-edit trdintmtnedit"  mfredit="'+
response.data[i].id+'" style="font-size:20px;"></i><i class="fa fa-trash deltrdintmtn"  trdintmtndel="'+
response.data[i].id+'" style="font-size:20px;"></i></td>';myhtml+="</tr>";j++;}}else{myhtml+="<tr>";myhtml+='<td colspan="8" style="text-align:center;">Data Not Found..!!</td>';myhtml+="</tr>";}
website(".trdeintimatndetail").html(myhtml);},complete:function(response){},error:function(jqXHR,textStatus,errorThrown){},});}
website("body").on("click",".trdintmtnedit",function(){var editid=website(this).attr("mfredit");website.ajax({url:"employeemodule/fetchtradeeintimtnedit",data:{editid:editid},method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged==true){website("#Mymodaledit #validators").val(response.data[0].company_name);website("#Mymodaledit #reltedprty").val(response.data[0].related_party);website("#Mymodaledit #secutype").val(response.data[0].security_type);website("#Mymodaledit #trnstype").val(response.data[0].transctn_type);website("#Mymodaledit #shres").val(response.data[0].noofshares);if(response.data[0].transctn_type==5){website("#Mymodaledit #dateoftrans").hide();}else{website("#Mymodaledit #transdate").val(response.data[0].transaction_date);}
website("#Mymodaledit #trdeditid").val(editid);website("#Mymodaledit #compid").val(response.data[0].cmp_id);website("#Mymodaledit").modal("show");}else{}},complete:function(response){website("#mfrdelmodal").modal("hide");},error:function(jqXHR,textStatus,errorThrown){},});});website("body").on("click",".deltrdintmtn",function(){var id=website(this).attr("trdintmtndel");website("#myModalyesno").modal("show");website("#myModalyesno .yesconfirm").attr("trdintmtndel",id);});website("body").on("click",".yesconfirm",function(){var id=website(this).attr("trdintmtndel");var formdata={id:id};website.ajax({url:"employeemodule/trdintimtndelete",data:formdata,method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged===true){fetchtradeeintimtn();new PNotify({title:"Record Deleted Successfully",text:"Record Deleted Successfully",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}else{new PNotify({title:"Record Not Deleted",text:"Record Not Updated",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){website("#myModalyesno").modal("hide");website("#myModalyesno .mainprogressbarforall").fadeOut();},error:function(){},});});website("#updatetrdintimtn").ajaxForm({dataType:"json",beforeSend:function(){website(".preloder_wraper").fadeIn();},uploadProgress:function(event,position,total,percentComplete){website(".preloder_wraper").fadeIn();},success:function(response,textStatus,jqXHR){if(response.logged===true){new PNotify({title:"Record Updated Successfully",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});fetchtradeeintimtn();}else{new PNotify({title:"Record Not Updated",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){website("#Mymodaledit").modal("hide");website(".preloder_wraper").fadeOut();},error:function(jqXHR,textStatus,errorThrown){},});website("#Mymodaledit #trnstype").on("change",function(){var value=website(this).val();if(value==5){website("#Mymodaledit #dateoftrans").hide();}else{website("#Mymodaledit #dateoftrans").show();}});website("#insertpastemp").ajaxForm({dataType:"json",beforeSend:function(){website(".preloder_wraper").fadeIn();},uploadProgress:function(event,position,total,percentComplete){website(".preloder_wraper").fadeIn();},success:function(response,textStatus,jqXHR){if(response.logged===true){new PNotify({title:"Record Added Successfully",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});window.location.reload();}else{new PNotify({title:"Record Not Added",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){website(".preloder_wraper").fadeOut();},error:function(jqXHR,textStatus,errorThrown){},});website("body").on("click",".add_button",function(e){var getno=website("#pastemp").val();if(getno<=5){website("#pstbtn").css("display","block");var htmlele='<div class="box_css">';for(var i=0;i<getno;i++){htmlele+='<section class="col col-md-6 col-xs-6">'+'<div class="input">'+'<label class="control-label">Name of employer*</label>'+'<input type="text" id="empname_'+
i+'" name="empname" class="form_fields form-control col-md-7 col-xs-12 empnm" required>'+"</div>"+"</section>"+'<section class="col col-md-6 col-xs-6">'+'<div class="input">'+'<label class="control-label">Designation Served*</label>'+'<input type="text" id="designtn_'+
i+'" name="designtn" class="form_fields form-control col-md-7 col-xs-12 desig" required>'+"</div>"+"</section>"+'<section class="col col-md-6 col-xs-6">'+'<div class="input">'+'<label class="control-label">Start Date of Employment*</label>'+'<input type="text" name="strtdte" id="strtdte_'+
i+'" class="form-control sde" placeholder="dd-mm-yyyy" maxlength="10" required>'+"</div>"+"</section>"+'<section class="col col-md-6 col-xs-6">'+'<div class="input">'+'<label class="control-label">End Date of employment*</label>'+'<input type="text" name="enddte" id="enddte_'+
i+'" class="form-control ede" placeholder="dd-mm-yyyy" maxlength="10" required>'+"</div>"+"</section>";}
htmlele+='<section class="col col-md-12 col-xs-12 company_asses" id="pstbtn">';htmlele+='<input type="button" value="Submit" class="btn btn-primary contractexcelbtn" id="pastbtnsub">'+"</section></div>";website("#addnoofforms").html(htmlele);datepicker();}else{new PNotify({title:"Alert",text:"The system allows only 5 latest employment details to be entered. In case you have more than 5 past employment details then email additional list to Compliance Officer",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}});website("body").on("click",".upremovemob",function(e){var id=this.id;var mobileno=website("#"+id).attr("upmobno");var gtapmb=website("#mydataedit #upmobileno").val();gtapmb=gtapmb.split(",");var position=gtapmb.indexOf(mobileno);gtapmb.splice(position,1);var arr=gtapmb.toString();console.log(arr);website("#mydataedit #upmobileno").val(arr);website("#"+id).remove();});website(document).ready(function(){var i=0;website("body").on("click","#mydataedit  #upaddmobile",function(e){var mobileno=website("#mydataedit  #upmobno").val();var gtapmb=website("#mydataedit  #upmobileno").val();if(gtapmb==""&&mobileno!=""&&mobileno.length>=10){str=mobileno.toString();clid="my_id"+i;var myhtml="<ul class='upremovemob' id='"+
clid+"' upmobno='"+
mobileno+"'><li>"+
mobileno+"<span class='close' >&times;</span></li></ul>";website("#mydataedit  #addmobileonmd").append(myhtml);website("#mydataedit  #upmobileno").val(str);new PNotify({title:"Mobile No Added",text:"Mobile No Added",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});i++;}else if(mobileno!=""&&mobileno.length>=10){var myarr=gtapmb.split(",");myarr.push(mobileno);clid="my_id"+i;var myhtml="<ul class='upremovemob' id='"+
clid+"' upmobno='"+
mobileno+"'><li>"+
mobileno+"<span class='close' >&times;</span></li></ul>";website("#mydataedit  #addmobileonmd").append(myhtml);str=myarr.toString();website("#mydataedit  #upmobileno").val(str);new PNotify({title:"Mobile No Added",text:"Mobile No Added",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});i++;}else{new PNotify({title:"Invalid Mobile No",text:"Invalid Mobile No",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}});});website("body").on("click",".removemob",function(e){var id=this.id;var mobileno=website("#"+id).attr("mobno");var gtapmb=website("#mobileno").val();gtapmb=gtapmb.split(",");var position=gtapmb.indexOf(mobileno);gtapmb.splice(position,1);var arr=gtapmb.toString();website("#mobileno").val(arr);website("#"+id).remove();});website(document).ready(function(){var i=0;website("body").on("click","#addmobile",function(e){var mobileno=website("#mobno").val();var gtapmb=website("#mobileno").val();var flag=0;if(mobileno.length>=10){if(gtapmb==""&&mobileno!=""){str=mobileno.toString();clid="my_id"+i;var myhtml="<ul class='removemob' id='"+
clid+"' mobno='"+
mobileno+"'><li>"+
mobileno+"<span class='close' >&times;</span></li></ul>";website("#mobileappend").append(myhtml);website("#mobileno").val(str);new PNotify({title:"Mobile No Added",text:"Mobile No Added",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});i++;}else if(mobileno!=""){var myarr=gtapmb.split(",");myarr.push(mobileno);clid="my_id"+i;var myhtml="<ul class='removemob' id='"+
clid+"' mobno='"+
mobileno+"'><li>"+
mobileno+"<span class='close' >&times;</span></li></ul>";website("#mobileappend").append(myhtml);str=myarr.toString();website("#mobileno").val(str);new PNotify({title:"Mobile No Added",text:"Mobile No Added",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});i++;}}else{new PNotify({title:"Please Enter Valid Mobile No",text:"Please Enter Valid Mobile No",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}});});website("body").on("click","#pastbtnsub",function(e){var nooffield=website(".empnm").length;var myarr=[];for(var i=0;i<nooffield;i++){var empname=website("#empname_"+i).val();var designtn=website("#designtn_"+i).val();var strtdte=website("#strtdte_"+i).val();var enddte=website("#enddte_"+i).val();if(empname!=""&&designtn!=""&&strtdte!=""&&enddte!=""){var obj={empname:empname,designtn:designtn,strtdte:strtdte,enddte:enddte,};myarr.push(obj);}else{new PNotify({title:"Alert",text:"Please Check All The Input Fields",type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}}
if(myarr.length>=1){website.ajax({url:"employeemodule/insertpastemp",method:"POST",data:{myarr:myarr},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged==true)
{if(response.isfirst=='yes'&&response.isnextdataempty=='yes')
{var baseHref=getbaseurl();var redirecturl=baseHref+"employeemodule?tab="+btoa(2);website('#modeluserguide #modalcontent').html('<div style="text-align:center;"><h4 style="text-align: center;color: #000;margin: 45px 50px 25px 50px;line-height: 25px;">Personal Employment Information added successfully.<br>Please Insert Relatives Details.</h4></div><div class="guidebtn"><a href="'+redirecturl+'"><button type="button" class="btn btn-success">OK</button></a></div>');website('#modeluserguide').modal('show');getpastempdata();}
else
{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});getpastempdata();}}
else
{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){},error:function(jqXHR,textStatus,errorThrown){},});}});website("body").on("click",".sendfrapp",function(e){website("#sendappp").modal("show");});website("body").on("click",".sendreq",function(e){website.ajax({url:"employeemodule/sendreq",method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){website(".preloder_wraper").fadeIn();},uploadProgress:function(event,position,total,percentComplete){website(".preloder_wraper").fadeIn();},success:function(response,textStatus,jqXHR){if(response.logged==true){new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});website("#sendappp").modal("hide");location.reload();}else{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){website(".preloder_wraper").fadeOut();},error:function(jqXHR,textStatus,errorThrown){},});});getpastempdata();function getpastempdata(){var noofrows=website("#noofrows").val();var pagenum=website("#pagenum").val();var persnid=website("#personid").val();var formdata={persnid:persnid,noofrows:noofrows,pagenum:pagenum};website.ajax({url:"employeemodule/fetchpastemployer",data:formdata,method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged===true){var htmlele="";for(var i=0;i<response.resdta.length;i++){response.resdta;var emp_name=response.resdta[i].emp_name?response.resdta[i].emp_name:"";var emp_desigtn=response.resdta[i].emp_desigtn?response.resdta[i].emp_desigtn:"";var startdate=response.resdta[i].startdate?response.resdta[i].startdate:"";var enddate=response.resdta[i].enddate?response.resdta[i].enddate:"";htmlele+='<div class="box_css">'+'<div class="col-md-12 text-right"><i class="fa fa-trash deletepastemp" id ="'+
response.resdta[i].id+'"  aria-hidden="true" onclick="deleteemp(this.id);"></i></div>'+'<section class="col col-md-6 col-xs-6">'+'<div class="input">'+'<label class="control-label">Name of employer*</label>'+'<input type="text" id="empid_'+
i+'" name="empid" class="form_fields form-control col-md-7 col-xs-12 empnm"  value= "'+
response.resdta[i].id+'"  empid ="'+
response.resdta[i].id+'"  style = "display:none;">'+'<input type="text" id="empname_'+
i+'" name="empname" class="form_fields form-control col-md-7 col-xs-12 empnm" value= "'+
emp_name+'" empname= "'+
emp_name+'" required>'+"</div>"+"</section>"+'<section class="col col-md-6 col-xs-6">'+'<div class="input">'+'<label class="control-label">Designation Served*</label>'+'<input type="text" id="designtn_'+
i+'" name="designtn" class="form_fields form-control col-md-7 col-xs-12 desig" value= "'+
emp_desigtn+'" emp_desigtn= "'+
emp_desigtn+'" required>'+"</div>"+"</section>"+'<section class="col col-md-6 col-xs-6">'+'<div class="input">'+'<label class="control-label">Start Date of Employment*</label>'+'<input type="text" name="strtdte" id="strtdte_'+
i+'" class="form-control sde" placeholder="dd-mm-yyyy" maxlength="10" value= "'+
startdate+'"  startdate= "'+
startdate+'"  required>'+"</div>"+"</section>"+'<section class="col col-md-6 col-xs-6">'+'<div class="input">'+'<label class="control-label">End Date of employment*</label>'+'<input type="text" name="enddte" id="enddte_'+
i+'" class="form-control ede" placeholder="dd-mm-yyyy" maxlength="10" value= "'+
enddate+'"  enddate= "'+
enddate+'" required>'+"</div>"+"</section></div>";}
htmlele+='<section class="col col-md-12 col-xs-12 company_asses" id="pstbtn">';htmlele+='<input type="button" value="Update" class="btn btn-primary contractexcelbtn" id="pastupdate">'+"</section>";website("#addnoofforms").html(htmlele);datepicker();}else{website(".paginationmn").html(response.pgnhtml);}},complete:function(response){website(".preloder_wraper").fadeOut();},error:function(jqXHR,textStatus,errorThrown){},});}
website("body").on("click","#pastupdate",function(e){var nooffield=website(".empnm").length;var myarr=[];for(var i=0;i<nooffield;i++){var empname=website("#empname_"+i).val();var id=website("#empid_"+i).val();var designtn=website("#designtn_"+i).val();var strtdte=website("#strtdte_"+i).val();var enddte=website("#enddte_"+i).val();if(empname!=""&&designtn!=""&&strtdte!=""&&enddte!=""){var obj={empname:empname,designtn:designtn,strtdte:strtdte,enddte:enddte,empid:id,};myarr.push(obj);}else{website("#alertcommon #allalertmsg").html("Please Check All The Input Fields");website("#alertcommon").modal("show");}}
if(myarr.length>=1){website.ajax({url:"employeemodule/updatepastemp",method:"POST",data:{myarr:myarr},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged==true){new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});getpastempdata();}else{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){},error:function(jqXHR,textStatus,errorThrown){},});}});function deleteemp(id){var delid=id;var formdata={id:delid};website.ajax({url:"employeemodule/deleteempdetail",data:formdata,method:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",cache:false,beforeSend:function(){},uploadProgress:function(event,position,total,percentComplete){},success:function(response,textStatus,jqXHR){if(response.logged==true){new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});window.location.reload();}else{new PNotify({title:"Alert",text:response.message,type:"university",hide:true,styling:"bootstrap3",addclass:"dark ",});}},complete:function(response){website(".preloder_wraper").fadeOut();},error:function(jqXHR,textStatus,errorThrown){},});}
function IsAlphaNumeric(e){var regex=new RegExp("^[a-zA-Z0-9 ]+$");var key=String.fromCharCode(!event.charCode?event.which:event.charCode);if(!regex.test(key)){event.preventDefault();return false;}}
website("#relationship").change(function(){let select=website("#relationship option:selected").val();if(select==4||select==6||select==8||select==9){website("#relfemale").attr("checked",true);}else if(select==3||select==5||select==7||select==10){website("#relmale").attr("checked",true);}else if(select==1||select==11){website("#relother").attr("checked",true);}else{}});;